import matplotlib.pyplot as plt
import numpy as np

class Plotter:
    def __init__(self):
        self.best_res = [ ]
        self.mean_res = [ ]
        self.y_values = []

    def add_value(self, best, mean):
        self.best_res.append(best)
        self.mean_res.append(mean)
    

    def plot(self):       
        plt.plot(self.best_res, label="Best fitness") 
        plt.plot(self.mean_res, label="Mean Fitness") 
        plt.ylabel('Best Fitness')
        plt.xlabel('Generation')
        plt.legend(loc='upper right')
        ax = plt.gca()
        ax.set_ylim([221000, 233000])
        ax.set_xlim([0, 194])

        # test = [27204.60106109067, 27206.08290382525, 27238.83180077524, 27230.54457375852, 27230.72040234478, 27183.645178196508, 27214.1693271793, 27211.93663184809, 27199.35390926818, 27202.433878237196, 27205.4437766469, 27294.301264266924, 27201.084813766814, 27201.502767330076, 27235.501330635274, 27262.85247326528, 27230.02988844375, 27226.712484485994, 27236.506812525804, 27181.34906424018, 27228.155937089523, 27210.254080294126, 27252.219484829322, 27234.143036184, 27200.30478366575, 27206.442409398674, 27232.611750270116, 27211.974327536984, 27241.389451361694, 27199.505309043117, 27187.813472273145, 27253.10411947203, 27198.712204398267, 27216.373513570077, 27230.011732508407, 27241.828047667263, 27231.92178869745, 27195.655561531672, 27223.447600499654, 27185.67911103851, 27196.79776577013, 27222.01415166249, 27210.42968256789, 27246.325417019063, 27239.699763520122, 27223.20184949984, 27211.143842822872, 27195.248523900555, 27221.218938684986, 27243.07761291368, 27201.844949539453, 27210.32113049143, 27223.56167637527, 27236.572156039972, 27224.613574110157, 27202.95613360808, 27204.237443068312, 27232.77042882348, 27190.796211135304, 27242.297570284685, 27207.55698366017, 27236.57281903018, 27246.371824169004, 27179.45797266804, 27228.13356284796, 27213.122949131484, 27199.70792238554, 27220.304825751307, 27218.082979377432, 27220.081127978276, 27229.21359925081, 27264.430346091318, 27230.309091125688, 27185.134784933936, 27228.024091512405, 27228.514372715767, 27223.421406617977, 27228.09332798146, 27221.01507630578, 27219.510472256356, 27209.234423240894, 27206.062841442403, 27205.98332143066, 27223.354091548445, 27217.242725495726, 27228.96109603404, 27217.52925546335, 27240.04059138177, 27218.04811485983, 27193.748407659823, 27259.64152958896, 27189.826183760168, 27301.13359752175, 27278.301102604924, 27209.727311729654, 27190.803344027925, 27205.23499856468, 27190.689555955625, 27178.495846660408, 27180.731877112332, 27218.301730254767, 27197.60485080313, 27209.60968731259, 27213.55751020159, 27212.26654675651, 27242.95316339951, 27171.33925191935, 27221.127595119437, 27256.805739836054, 27195.62815404078, 27238.296375241927, 27204.527629315962, 27202.20909507761, 27195.004816864162, 27219.04063395836, 27199.552092828333, 27227.403562116277, 27233.62238359132, 27181.39038901804, 27241.3613870093, 27214.689192916638, 27183.961588950697, 27218.199180179166, 27221.85780391497, 27198.91479178273, 27221.548894325162, 27179.723254775985, 27213.220909483636, 27194.29047263063, 27199.841825207965, 27247.563785949762, 27223.465094479634, 27261.28820599812, 27183.10230130769, 27196.699386561977, 27217.766500959835, 27183.02415167451, 27242.15778290788, 27233.783778463003, 27205.854514058046, 27203.270022766028, 27294.494419345963, 27206.78292549449, 27221.108411221117, 27182.63876404842, 27193.258131918854, 27212.037915632543, 27205.92569022394, 27220.71276680194, 27173.87815102539, 27235.016350782487, 27238.000493210002, 27229.862920587333, 27211.03980370704, 27208.91080170338, 27212.113842932675, 27183.03818453504, 27223.348721447448, 27212.697995658706, 27205.925462566007, 27213.77872160075, 27249.99534658156, 27198.961974095295, 27238.815147749017, 27162.341981452744, 27210.07878375835, 27213.704701863953, 27268.18702141551, 27252.32299389655, 27180.666642131127, 27187.179899299408, 27214.356001114924, 27222.577392571584, 27224.419555449942, 27202.68865115176, 27238.937048533095, 27179.8915867157, 27263.187727772154, 27218.96766289485, 27194.22919535316, 27215.9870893493, 27181.3842660314, 27188.874466795256, 27223.572021436878, 27186.54839049815, 27258.555402766924, 27234.3487271829, 27254.4983658896, 27228.774628188497, 27202.980817374762, 27219.31588327175, 27224.808505189154, 27199.49984670807, 27209.86625008016, 27256.63301779696, 27235.61240338186, 27266.985028264226, 27203.599821725136, 27255.352015736073, 27220.726475594078, 27248.24767763957, 27246.406020791095, 27181.833911027254, 27192.04851338049, 27190.96300759214, 27210.711627817935, 27193.088213013616, 27279.387254286557, 27210.845350620126, 27241.547496511714, 27192.227158423477, 27238.216570807563, 27205.94948279511, 27209.054914282242, 27219.69483780085, 27206.98668162265, 27228.254804785403, 27193.317069674937, 27205.2524037482, 27228.86595157952, 27203.82882616048, 27207.93393290964, 27218.204391292307, 27197.945010626423, 27237.098463823568, 27207.81714168168, 27229.97993149689, 27211.43204351463, 27227.933820651113, 27234.85096596926, 27209.27193363031, 27247.289139964505, 27233.611003170758, 27174.34761389122, 27200.190886062323, 27221.154517929433, 27188.086967958312, 27191.096026966177, 27231.375297854138, 27186.059120051883, 27223.15433421166, 27178.55703722163, 27245.427944391624, 27199.311354463982, 27194.751296995375, 27244.087658686996, 27198.037290095705, 27223.430686035215, 27193.39832995887, 27194.83761111494, 27195.333530157306, 27191.19476203182, 27213.528612760732, 27213.9666984818, 27220.059481750606, 27244.414549047055, 27245.324384803243, 27228.832515348746, 27210.616667068636, 27170.63251993023, 27206.241870766247, 27251.635538370825, 27244.751990861576, 27208.31291146893, 27250.482396464133, 27240.12673180728, 27208.480470444043, 27215.463226773787, 27232.960376145173, 27217.40587858744, 27256.671992031548, 27241.71432382307, 27212.6604464084, 27250.346379291244, 27250.89243011608, 27259.248079431854, 27207.063679576437, 27202.543505729413, 27196.350107369148, 27226.265356033204, 27219.278140847655, 27202.15117494619, 27224.053193908232, 27216.74193967043, 27229.2004948832, 27192.82673241094, 27210.03907644398, 27263.079955403435, 27185.88562614814, 27196.971308982673, 27210.403010719165, 27207.172503196132, 27199.592921602623, 27198.61970963394, 27202.454430200578, 27208.756194997495, 27241.073314696536, 27211.75109606729, 27197.858692147598, 27193.8000913138]
        # test = test*3+test[:100]
        # best_res = [27154.48839924464]*1000
        # plt.hist(self.best_res, 10, range=[27150, 27300], label="best") 
        # plt.hist(self.mean_res, 10, label="mean") 
        
        # plt.ylabel('Occurences')
        # plt.xlabel('Fitness')

        # v1: [41054.3598623224, 40929.72153956, 41076.01014214233, 40768.79044139562, 40807.94048529861]

        # plt.plot([0.01,0.05,0.1,0.2,0.5], self.best_res, 'ro')
        # plt.ylabel('Fitness')
        # plt.xlabel('p_nearest_neighbor')

        
        # plt.plot( self.best_res[0], label="μ/λ=1")
        # plt.plot( self.best_res[1], label="μ/λ=1.25")
        # plt.plot( self.best_res[2], label="μ/λ=1.5")
        # plt.plot( self.best_res[3], label="μ/λ=2")
        # plt.plot( self.best_res[4], label="μ/λ=5")
        # plt.ylabel('Fitness')
        # plt.xlabel('Iteration')
        # plt.legend(loc='upper right')

        plt.savefig("convergence.png")